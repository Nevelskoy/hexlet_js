* Есть одно решение, которое точно сработает — это lock-файл. По сути это автоматизированное отслеживание зависимостей. Первый запуск установки зависимостей сформирует этот файл. Туда запишутся все установленные зависимости, в том числе транзитивные с версиями и хеш-суммами. При дальнейших запусках команда '''poetry install''' всегда ставит то, что указано в lock-файле. Это сработает, даже если удалить папку .venv или добавить новые версии пакетов в файл pyproject.toml. Повторный запуск через любой промежуток времени приведет к тому же результату. Теперь с уверенностью можно сказать — проект запустится в любое время и любого пользователя. Наличие lock-файла никак не влияет на поведение команды update для прямых зависимостей. Представим, что у пакета из нашего файла pyproject.toml вышла новая версия. В этом случае Poetry уточнит, можно ли обновить его до новой версии. Если да, то загрузится новая версия, а lock-файл обновится автоматически. Если устанавливать пакеты не хочется, то для такого есть команда '''poetry update --lock'''. Она проверит, какие из новых версий подходят под указанные в конфигурации версии и обновит только lock-файл.
